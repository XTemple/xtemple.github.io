<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="DetentionStats.com is an independent dashboard visualizing ICE detention data for public understanding and transparency." />
  <title>Detention Stats</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-97FZXK7RF5"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-97FZXK7RF5');
  </script>
</head>

<body class="landing-page">
  <!-- DATA NOTICE MODAL -->
  <div id="detentionstats-modal"
       class="ds-modal"
       role="dialog"
       aria-modal="true"
       aria-labelledby="ds-modal-title"
       hidden>
    <div class="ds-modal__backdrop" data-close></div>
    <div class="ds-modal__dialog">
      <button class="ds-modal__close" type="button" aria-label="Dismiss notice">&times;</button>
      <p class="ds-modal__title" id="ds-modal-title">Data Notice</p>
      <p>
        <strong>Updates temporarily limited:</strong>
        ICE has paused some public web updates during a federal funding lapse. Our charts reflect the
        <span id="ds-last-available-date">latest available release</span> and will refresh when official updates resume.
        <a href="https://www.ice.gov/detain/detention-management" target="_blank" rel="noopener">Learn more</a>.
      </p>
    </div>
  </div>

  <div class="container">
    <h1>Detention Stats</h1>

    <p>
      <strong>DetentionStats.com</strong> is an independent data visualization project that presents publicly available immigration detention data released by U.S. Immigration and Customs Enforcement (ICE). The goal is to make this data more accessible, understandable, and transparent to the general public, policymakers, researchers, and journalists.
    </p>

    <p>
      The visualizations on this site are generated from ICE’s biweekly detention statistics, which are published without access restrictions on
      <a href="https://www.ice.gov/detain/detention-management" target="_blank" rel="noopener">ice.gov</a>.
      This site does not alter the data beyond cleaning and organizing it for clarity and usability in public-facing dashboards.
    </p>

    <p class="disclaimer">
      <strong>This site is not affiliated with or endorsed by U.S. Immigration and Customs Enforcement or the U.S. Department of Homeland Security.</strong> The interpretations and visualizations presented here are those of the site’s creator and do not reflect the official views of any government agency.
    </p>

    <a href="mainDashboard.html" class="proceed-button">Proceed</a>
  </div>

  <!-- MODAL SCRIPT -->
  <script>
  (function () {
    const KEY = "ds_notice_v1";                        // shared with mainDashboard.html
    const force = new URLSearchParams(location.search).has("notice"); // add ?notice to force-show
    const modal = document.getElementById("detentionstats-modal");
    if (!modal) return;

    if (!force) {
      try { if (localStorage.getItem(KEY) === "1") { modal.hidden = true; return; } } catch (e) {}
    }

    // Open
    modal.hidden = false;
    document.body.classList.add("modal-open");

    const closeBtn = modal.querySelector(".ds-modal__close");
    const backdrop = modal.querySelector(".ds-modal__backdrop");

    function closeModal(persist = true) {
      modal.hidden = true;
      document.body.classList.remove("modal-open");
      if (persist) { try { localStorage.setItem(KEY, "1"); } catch (e) {} }
    }

    closeBtn?.addEventListener("click", () => closeModal(true));
    backdrop?.addEventListener("click", () => closeModal(true));
    document.addEventListener("keydown", (e) => { if (e.key === "Escape") closeModal(true); });

    // Optional: exact “as of” date
    // document.getElementById("ds-last-available-date").textContent = "as of Sep 30, 2025";
  })();
  </script>
</body>
</html>
